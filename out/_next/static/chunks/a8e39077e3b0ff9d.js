(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14404,e=>{"use strict";var s=e.i(68535),a=e.i(81862),r=e.i(35612),l=e.i(33872),t=e.i(72640);let n=e=>{var s;let{entry:a,rank:l}=e,t=a.username||a.name||"Anonymous Warrior";return(0,r.jsxs)("div",{className:"stj-top-card","data-rank":l,children:[(0,r.jsx)("div",{className:"stj-card-medal",children:["ü•á","ü•à","ü•â"][l-1]}),(0,r.jsx)("div",{className:"stj-card-username",children:t}),(0,r.jsxs)("div",{className:"stj-card-stats",children:[(0,r.jsxs)("div",{className:"stj-card-days",children:[(0,r.jsx)("span",{className:"stj-card-days-number",children:a.days_in_focus||0}),(0,r.jsx)("span",{className:"stj-card-days-label",children:"days in focus"})]}),(0,r.jsxs)("div",{className:"stj-card-progress",children:[(0,r.jsxs)("span",{className:"stj-card-progress-percent",children:[a.progress_percentage||0,"%"]}),(0,r.jsx)("span",{className:"stj-card-progress-label",children:"of the world"})]})]}),(null==(s=a.current_level)?void 0:s.media_url)&&(0,r.jsx)("div",{className:"stj-card-image",children:(0,r.jsx)("img",{src:a.current_level.media_url,alt:a.current_level.title||"Milestone",loading:"lazy",width:"350",height:"350"})})]})},c=e=>{var s,a;let{entry:l,rank:t}=e,n=l.username||l.name||"Anonymous Warrior",c="male"===l.gender?"Male":"Female";return(0,r.jsxs)("tr",{className:"stj-table-row","data-rank":t,children:[(0,r.jsx)("td",{className:"stj-table-rank",children:(0,r.jsxs)("span",{className:"stj-table-rank-number",children:["#",t]})}),(0,r.jsx)("td",{className:"stj-table-warrior",children:(0,r.jsx)("span",{className:"stj-table-name",children:n})}),(0,r.jsx)("td",{className:"stj-table-gender",children:(0,r.jsx)("span",{className:"stj-emoji-wrapper stj-table-gender-emoji","aria-label":c,children:l.gender_emoji})}),(0,r.jsx)("td",{className:"stj-table-level",children:(0,r.jsxs)("div",{className:"stj-level-container",children:[(0,r.jsx)("span",{className:"stj-emoji-wrapper stj-table-level-emoji",children:(null==(s=l.current_level)?void 0:s.emoji)||"üéØ"}),(0,r.jsx)("span",{className:"stj-table-level-title",children:(null==(a=l.current_level)?void 0:a.title)||"Beginner"})]})}),(0,r.jsx)("td",{className:"stj-table-days",children:(0,r.jsx)("span",{className:"stj-table-days-number",children:l.days_in_focus||0})}),(0,r.jsx)("td",{className:"stj-table-progress",children:(0,r.jsxs)("span",{className:"stj-table-progress-percent",children:[l.progress_percentage||0,"%"]})})]})};e.s(["default",0,e=>{let{title:d="Journey Leaderboard",subtitle:i="Top performers on their Screen Time Journey",maleLabel:o="Men",femaleLabel:j="Women"}=e,[h,m]=(0,l.useState)(!0),[x,p]=(0,l.useState)(!1),[u,b]=(0,l.useState)("male"),[g,N]=(0,l.useState)([]),[v,y]=(0,l.useState)(1),[f,_]=(0,l.useState)(1),[w,k]=(0,l.useState)(!1);(0,l.useRef)("leaderboard-".concat(Date.now())).current;let S=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!w||e)try{k(!0),e&&(y(1),N([])),console.log("üèÜ Loading leaderboard page ".concat(e?1:v," for ").concat(u,"..."));let s=await fetch("".concat("https://ajvrzuyjarph5fvskles42g7ba0zxtxc.lambda-url.eu-north-1.on.aws","/get_leaderboard"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({page:e?1:v,page_size:50,get_all_users:!1,gender_filter:u})});if(s.ok){let a=await s.json(),r=a.leaderboard||a.data||[],l=a.pagination||{};e?N(r):N(e=>[...e,...r]),_(Math.ceil(l.total_entries/50)),console.log("‚úÖ Leaderboard loaded successfully"),p(!1),m(!1)}else throw Error("Failed to load leaderboard")}catch(e){console.error("‚ùå Error loading leaderboard:",e),p(!0),m(!1)}finally{k(!1)}};(0,l.useEffect)(()=>{S(!0)},[u]);let E=e=>{b(e),y(1),N([]),m(!0)},T=g.filter(e=>e.gender===u).sort((e,s)=>{let a=10*(e.days_in_focus||0)+(e.progress_percentage||0);return 10*(s.days_in_focus||0)+(s.progress_percentage||0)-a}).map((e,r)=>(0,a._)((0,s._)({},e),{filtered_rank:r+1})),C=T.slice(0,3),L=T.slice(3);return h?(0,r.jsx)("section",{className:"stj-leaderboard-section",children:(0,r.jsx)("div",{className:"stj-leaderboard-container",children:(0,r.jsxs)("div",{className:"stj-loading",children:[(0,r.jsx)("div",{className:"stj-spinner"}),(0,r.jsx)("h3",{className:"stj-loading-title",children:"Loading leaderboard..."}),(0,r.jsx)("p",{className:"stj-loading-subtitle",children:"Please wait while we fetch leaderboard data"})]})})}):x?(0,r.jsx)("section",{className:"stj-leaderboard-section",children:(0,r.jsx)("div",{className:"stj-leaderboard-container",children:(0,r.jsx)("div",{className:"stj-error",children:(0,r.jsx)("p",{children:"Unable to load leaderboard. Please try again later."})})})}):(0,r.jsx)("section",{className:"stj-leaderboard-section",children:(0,r.jsxs)("div",{className:"stj-leaderboard-container",children:[(0,r.jsxs)("div",{className:"stj-gender-tabs",children:[(0,r.jsx)("button",{className:"button ".concat("male"===u?"button--primary stj-tab-active":"button--secondary"," default"),onClick:()=>E("male"),children:(0,r.jsxs)("span",{className:"grid align-items-center",children:["üôã‚Äç‚ôÇÔ∏è ",o]})}),(0,r.jsx)("button",{className:"button ".concat("female"===u?"button--primary stj-tab-active":"button--secondary"," default"),onClick:()=>E("female"),children:(0,r.jsxs)("span",{className:"grid align-items-center",children:["üôã‚Äç‚ôÄÔ∏è ",j]})})]}),(0,r.jsxs)("div",{className:"stj-leaderboard-content",children:[(0,r.jsx)("div",{className:"stj-top-cards-grid",children:C.length>=3?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{entry:C[1],rank:2}),(0,r.jsx)(n,{entry:C[0],rank:1}),(0,r.jsx)(n,{entry:C[2],rank:3})]}):C.map((e,s)=>(0,r.jsx)(n,{entry:e,rank:s+1},"top-".concat(e.username,"-").concat(s)))}),(0,r.jsx)("div",{className:"stj-users-table-container rte",children:(0,r.jsxs)("table",{className:"stj-users-table",children:[(0,r.jsx)("caption",{className:"sr-only",children:"Leaderboard"}),(0,r.jsxs)("colgroup",{children:[(0,r.jsx)("col",{style:{width:"10%"}}),(0,r.jsx)("col",{style:{width:"25%"}}),(0,r.jsx)("col",{style:{width:"10%"}}),(0,r.jsx)("col",{style:{width:"30%"}}),(0,r.jsx)("col",{style:{width:"15%"}}),(0,r.jsx)("col",{style:{width:"10%"}})]}),(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col",children:"Rank"}),(0,r.jsx)("th",{scope:"col",children:"USERNAME"}),(0,r.jsx)("th",{scope:"col",children:"Gender"}),(0,r.jsx)("th",{scope:"col",children:"Level"}),(0,r.jsx)("th",{scope:"col",children:"DAYS IN FOCUS"}),(0,r.jsx)("th",{scope:"col",children:"OF THE WORLD"})]})}),(0,r.jsx)("tbody",{children:L.map((e,s)=>(0,r.jsx)(c,{entry:e,rank:s+4},"row-".concat(e.username,"-").concat(s)))})]})}),(0,r.jsxs)("div",{className:"stj-pagination",children:[(0,r.jsx)("div",{className:"stj-pagination-info",children:(0,r.jsxs)("span",{children:["Showing ",g.length," ","male"===u?"Men":"Women"]})}),(0,r.jsx)("div",{className:"stj-pagination-controls",children:v<f&&(0,r.jsxs)("button",{className:"button button--primary stj-load-more-btn",onClick:()=>{v<f&&!w&&(y(e=>e+1),S(!1))},disabled:w,children:[(0,r.jsx)("span",{className:w?"hidden":"",children:"Load More Warriors"}),(0,r.jsx)("span",{className:w?"":"hidden",children:"‚è≥"})]})})]}),(0,r.jsx)("div",{className:"stj-start-now-section",children:(0,r.jsx)("div",{className:"stj-start-now-container",children:(0,r.jsx)(t.default,{href:"/product/screentimejourney",className:"button button--primary default",children:(0,r.jsx)("span",{className:"grid align-items-center",children:"Start now"})})})}),(0,r.jsx)("div",{style:{padding:"20px 0 10px 0"},children:(0,r.jsx)("div",{style:{height:"1px",backgroundColor:"#EEEEEE",maxWidth:"1200px",margin:"0 auto",width:"calc(100% - 80px)"}})})]})]})})}])}]);